<!DOCTYPE html>

<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="description" content="JavaScript programming">
  <meta name="viewport" content="width=device-width">
  <title>sum of odds</title>
</head>

<body>

<div id="write">
  <p>sum of odds</p>
</div>

<script>
// sum_of_odds.html - calculate sum of odd integers

const __version__ = 1.1;
const __date__ = '2021-01-18';

const up_to = 170;

function is_odd(x)
{
  let remainder = x % 2;
  if (remainder == 0) return false;
  else                return true;
}

let sum = 0;
let number_of_odds = 0;
let last_odd = 0;
let write = document.getElementById('write');

for (let i = 0; i <= up_to; i++)
{
  if (is_odd(i))
  {
    sum += i;
    number_of_odds++;
    last_odd = i;
  }
}

if (sum == number_of_odds ** 2)
{
  if (number_of_odds == 0)
    ;
  else if (number_of_odds < 7)
    write.innerHTML = '<p>' + sum + '</p>';
  else
    write.innerHTML = '<p>1 + 3 + 5 + ... + ' + (last_odd - 1)
        + ' + ' + last_odd + ' = ' + sum + '</p>';
}
else
  window.alert('Unexpected error: ' + sum);

</script>

</body>

</html>
